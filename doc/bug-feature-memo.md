# バグ・機能メモ

## 現在の課題

### 1. テスト関連

#### 1.1 MemoList.test.jsx の再作成が必要
- **状況**: FAB実装とメモカードのクリック機能の大幅な変更により、既存のテストが機能しなくなった
- **対応**: 全テストを削除し、新しい機能に対応したテストを再作成する必要がある
- **優先度**: 中
- **必要なテストケース**:
  - メモカードのクリックで詳細ダイアログが開く
  - メモの編集機能
  - メモの削除機能
  - ローディング状態の表示
  - メモが0件の場合の表示

#### 1.2 その他のテスト関連課題
- E2Eテストの安定性向上
- ユニットテストのカバレッジ向上

## 完了した課題

### 1. UI/UX改善

#### 1.1 メモカードのクリック機能
- **実装**: メモカード全体をクリック可能にし、詳細エディタを開く機能を追加
- **ファイル**: `src/components/MemoCard.jsx`, `src/components/MemoList.jsx`
- **テスト**: `cypress/e2e/memo_card_click.cy.js`

#### 1.2 FAB（Floating Action Button）実装
- **実装**: メモ追加ボタンをFABとして実装し、ダイアログでメモ追加機能を提供
- **ファイル**: `src/pages/BookDetail.jsx`, `src/components/MemoAdd.jsx`
- **テスト**: `cypress/e2e/memo_fab_add.cy.js`

### 2. テスト修正

#### 2.1 BookDetail.test.jsx
- FAB実装に対応したテストに修正
- 複数要素エラーの解決

#### 2.2 MemoAdd.test.jsx
- ダイアログモード対応のテストを追加

## 今後の予定

### 1. UI/UX改善の継続
- メモカードのスワイプアクション
- アニメーション効果の追加
- レスポンシブデザインの改善

### 2. テスト品質の向上
- MemoList.test.jsxの再作成
- E2Eテストの安定性向上
- テストカバレッジの向上

### 3. パフォーマンス改善
- コンポーネントの最適化
- バンドルサイズの削減

## 技術的メモ

### 1. Material-UI FAB
- `Fab`コンポーネントを使用
- `position: 'fixed'`で画面右下に固定
- `sx`プロパティでスタイリング

### 2. ダイアログ実装
- `Dialog`コンポーネントを使用
- `maxWidth="sm"`でサイズ制限
- `fullWidth`で幅を最大に

### 3. テスト戦略
- ユニットテスト: コンポーネントの個別機能
- E2Eテスト: ユーザーフローの検証
- モック: 外部依存関係の分離 